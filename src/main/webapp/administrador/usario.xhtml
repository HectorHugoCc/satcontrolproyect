<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<ui:composition template="/WEB-INF/templates/uiConMenu.xhtml">

		<ui:define name="pageTitle">Perfil</ui:define>
		
		<ui:define name="pageHeader"></ui:define>
		<ui:define name="body">
		
		
		<h:form id="listaUsuario">
		
		<p:growl id="msgs" showDetail="true" ></p:growl>
		
			<h:inputHidden value="#{usuarioBean.usuarioSeleccionado.id}" />
		
			<p:fieldset legend="Usuarios">
				<h:panelGrid columns="6">
				
		
			<p:dataTable id="usuariodt" var="usuario" value="#{usuarioBean.listaUsuario}" selectionMode="single" rowKey="#{usuario.id}" editable="true" style="margin-bottom:20px"
			paginator="true" rows="5" paginatorTemplate="	{FirstPageLink}
					{LastPageLink}
					{PreviousPageLink}
					{NextPageLink}
					{PageLinks}
					{CurrentPageReport}
					{RowsPerPageDropdown} "
					scrollable="true" rowsPerPageTemplate="1, 3, 5"
					currentPageReportTemplate="PÃ¡gina: ({currentPage}/{totalPages})">
				
				<f:facet name="header">Lista Usuario</f:facet>
				
				<p:ajax event="rowEdit" listener="#{usuarioBean.onRowEdit}" update=":listaUsuario:msgs" />
     			<p:ajax event="rowEditCancel" listener="#{usuarioBean.onRowCancel}" update=":listaUsuario:msgs" />
 
				<p:column headerText="Id">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.id}"/></f:facet>
					<f:facet name="input"><p:inputText id="modelInput" value="#{usuario.id}" style="width:100%"></p:inputText></f:facet>
				</p:cellEditor>
				</p:column>
				
				<p:column headerText="Codigo">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.codigo}" /></f:facet>
					<f:facet name="input"><p:inputText value="#{usuario.codigo}" style="width:100%" label="Codigo"></p:inputText></f:facet>
				</p:cellEditor>
				</p:column>
				
				<p:column headerText="Nombre">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.nombre}" /></f:facet>
					<f:facet name="input"><p:inputText value="#{usuario.nombre}" style="width:100%" label="Nombre"></p:inputText> </f:facet>
				</p:cellEditor>
				</p:column>
				
				<p:column headerText="Palabra Clave">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.clave}" /></f:facet>
					<f:facet name="input"><p:inputText value="#{usuario.clave}" style="width:100%" label="Palabra Clave"></p:inputText> </f:facet>
				</p:cellEditor>
				</p:column>
				
				<p:column headerText="Correo">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.correo}" /></f:facet>
					<f:facet name="input"><p:inputText value="#{usuario.correo}" style="width:100%" label="Correo"></p:inputText> </f:facet>
				</p:cellEditor>
				</p:column>
				
			
			<p:column headerText="Area Funcional" width="60">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.areaFuncional.id}"/></f:facet>
					<f:facet name="input">
					<p:selectOneMenu value="#{usuarioBean.listaAreaFuncional}" var="fila" style="width:100%">
						<f:selectItem  itemLabel="#{fila.descripcion}" itemValue="#{fila.id}"/>
						
					</p:selectOneMenu>
					</f:facet>
				</p:cellEditor>
				</p:column>
				
				<p:column headerText="Estado" width="60">
				<p:cellEditor>
					<f:facet name="output"><h:outputText value="#{usuario.estado}"/></f:facet>
					<f:facet name="input">
					<p:selectOneMenu value="#{usuario.estado}" style="width:100%">
						<f:selectItem  itemLabel="Habilitado" itemValue="1"/>
						<f:selectItem itemLabel="Deshabilitado" itemValue="0"/>
						
					</p:selectOneMenu>
					</f:facet>
				</p:cellEditor>
				</p:column>
				
				
				<p:column style="width:100px">
				<f:facet name="header">Acciones</f:facet>
		           <p:rowEditor />
		           
		       </p:column>
			
				
			</p:dataTable>
			
			
			
			
			</h:panelGrid>
			</p:fieldset>
			
		</h:form>
		
		<p:commandButton type="button" value="Crear Perfil" id="crearBtn" onclick="PF('perfil_create').show()"></p:commandButton>
		
		
		</ui:define>
</ui:composition>
</html>
